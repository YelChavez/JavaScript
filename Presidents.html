
<!DOCTYPE html>
<html lang="en">
<head><title>Vote!</title></head>
<body background="https://i.ytimg.com/vi/RGrKp6TQj98/maxresdefault.jpg"><br><br><br><br>
<center><h2 id="error">Who are you going to vote for President?</h2>
<input type="text" id="name" placeholder="Type your candidate here" style="text-align:center"><br>
<button onclick="submit()">Submit Vote!</button><br>
<center><table>
    <tr><td>ID#</td><td><center>NAME            </center></td><td>       AGE</td></tr>
    <tr><td>1  </td><td><center>Rodrigo Duterte </center></td><td><center>70</center></td></tr>
    <tr><td>2  </td><td><center>Grace Poe       </center></td><td><center>50</center></td></tr>
    <tr><td>3  </td><td><center>Miriam Santiago </center></td><td><center>72</center></td></tr>
    <tr><td>4  </td><td><center>Mar Roxas       </center></td><td><center>65</center></td></tr>
    <tr><td>5  </td><td><center>Jejomar Binay   </center></td><td><center>75</center></td></tr>
</table></center></center>
<script LANGUAGE="JavaScript">
    //candidates
    function Candidate(id,name,age,comment){
       this.id      = id;
       this.name    = name;
       this.age     = age;
       this.comment = comment;
    }
    var duterte = new Candidate (1, "Rodrigo Duterte", 70, "Leadership");
    var poe     = new Candidate (2, "Grace Poe", 50, "Congratulations, you have chosen a valid candidate");
    var miriam  = new Candidate (3, "Miriam Santiago", 72, "Intelligence");
    var roxas   = new Candidate (4, "Mar Roxas", 65);
    var binay   = new Candidate (5, "Jejomar Binay", 75);
    var container=[duterte,poe,miriam,roxas,binay]

    //blacklisted
    var blacklist    =[roxas,binay]
    //comments
    function submit(){
        try{
        var name= document.getElementById("name").value;
        var valName= new RegExp(name.toLowerCase().trim());
        flag = 0;
        stop = 0;
        for (x in container){
            var revC = container[x].name.toLowerCase().split(" ");
            console.log(revC);
            if (container[x].name.toLowerCase()===name.toLowerCase().trim() ||
            valName.test(container[x].name.toLowerCase()) || valName.test(revC[1]+" "+revC[0])){
                for (i in blacklist){
                   var revB = blacklist[i].name.toLowerCase().split(" ")
                   if(name.toLowerCase().trim()===blacklist[i].name.toLowerCase().trim()
                     || valName.test(blacklist[i].name.toLowerCase()) || valName.test(revB[1]+" "+revB[0])){
                        alert("I am sorry but your candidate is blacklisted");}
                   else{stop+=1}
                }
                if (stop==2){
                   alert(container[x].comment)}
            }
            else{
               flag += 1}
            }
        if (flag==5){alert("There is no such candidate")}
        }
        catch (err){
            document.getElementById("error").innerHTML=err.message;
        }
        }
</script>
</body>
</html>
